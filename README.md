## Geo Git — система версионирования геопространственных данных

### Описание

Geo Git — это прототип серверной системы контроля версий для геопространственных данных, хранящихся в MongoDB.
Основные сущности:
- **БПО (базовый пространственный объект)** — геометрия + атрибуты (GeoJSON)
- **Обстановка (situation)** — набор БПО, логически объединённых
- **Версия обстановки** — снимок состояния набора БПО с метаданными (автор, время, родительские версии)

Основные цели:
- версионирование обстановок с базовыми операциями (создание, извлечение, обновление);
- подготовка к расчёту дифов между версиями и статистики изменений;
- основа для будущего сопоставления и слияния версий.

Хранилище данных — MongoDB c коллекциями:
- `bpo_cas` — Content-Addressed Storage для БПО (объекты по хешу содержимого);
- `situations` — описания обстановок;
- `situation_versions` — версии обстановок;
- `version_deltas` — дельты между версиями (структура уже заложена в `init_mongodb.js`).

### Архитектура

- `src/main.cpp` — точка входа, проверяет подключение к MongoDB, инициализацию БД и индексов.
- `src/storage/mongodb_connection/` — подключение к MongoDB:
  - создание `mongocxx::client`;
  - доступ к коллекциям (`bpo_cas`, `situations`, `situation_versions`, `version_deltas`);
  - проверка и инициализация индексов.
- `src/storage/bpo_storage/` — модель БПО и валидация GeoJSON:
  - `BPO` — оболочка над документом MongoDB (геометрия + атрибуты);
  - `GeoJSONValidator` — базовая проверка структуры GeoJSON (Point / LineString / Polygon).
- `src/utils/logger/` — простой логгер с уровнями логирования.
- `src/schemas/init_mongodb.js` — скрипт инициализации БД (создание коллекций и геоиндексов).

### Запуск
**1. Инициализируй базу:**

```bash
mongosh "mongodb://localhost:27017" < src/schemas/init_mongodb.js
```

**2. Собери и запусти:**

```bash
mkdir -p build
cd build
cmake ..
make

# по умолчанию: mongodb://localhost:27017
./geoversion

# или с явным URI
./geoversion "mongodb://user:password@host:27017"
```

### Автор: 
- Никоненко Егор
